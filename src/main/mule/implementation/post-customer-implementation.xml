<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:salesforce="http://www.mulesoft.org/schema/mule/salesforce"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/salesforce http://www.mulesoft.org/schema/mule/salesforce/current/mule-salesforce.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	
	<flow name="post-customer-implementationFlow" doc:id="28d7b903-2e44-4f2c-8d1f-7a4095791877" >
		<logger level="INFO" doc:name="Logger before SFDC call" doc:id="78730ee9-1e6a-413b-a38e-58f0e29a0af4" />
		<ee:transform doc:name="Transform Message" doc:id="68af8de5-f8df-4abf-9840-cc7f040db491" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/java
---
[{
	customerId__c : "Customer1001",
	customerName__c: "Name1001",
	email__c: "email1001@gmail.com",
	phone__c: "2378643501",
	address__c:"House1001",
	dob__c: "21-12-2001",
	gender__c: "Female",
	status__c: "false",
	registrationDateTime__c: "12-02-2233T12:23:01",
	lastModifiedDateTime__c: "12-02-2233T12:23:01"
	
}]]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<salesforce:upsert doc:name="Upsert Customer Data " doc:id="f9077ca1-d7ea-4368-b2ac-0631cd1bec4a" objectType="CustomerDetails__c" externalIdFieldName="customerId__c" config-ref="Salesforce_Config"/>
		<logger level="INFO" doc:name="Logger after SFDC call" doc:id="57203d0f-352c-4739-8a5a-5a9b17936b7a" />
	</flow>
</mule>
